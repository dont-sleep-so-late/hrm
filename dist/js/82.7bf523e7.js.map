{"version":3,"file":"js/82.7bf523e7.js","mappings":"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","sources":["webpack://GDUOHRM/./src/pages/System/OrganManage.vue","webpack://GDUOHRM/src/pages/System/OrganManage.vue","webpack://GDUOHRM/./src/pages/System/OrganManage.vue?c869","webpack://GDUOHRM/./src/pages/System/OrganManage.vue?f6ed"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"OrganManage\"},[_c('el-card',[_c('el-row',{attrs:{\"type\":\"flex\",\"justify\":\"space-between\"}},[_c('el-form',{staticClass:\"demo-form-inline\",attrs:{\"size\":\"small\",\"inline\":\"\"}},[_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.addDialogVisible = true}}},[_vm._v(\"添加一级机构\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.addCateDialogVisibletwo = true}}},[_vm._v(\"添加二级机构\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.addCateDialogVisiblethree = true}}},[_vm._v(\"添加三级机构\")])],1)],1)],1),_c('el-table',{ref:\"table\",attrs:{\"data\":_vm.userlist,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"编号\",\"width\":\"100\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"o1_name\",\"label\":\"一级机构\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"o2_name\",\"label\":\"二级机构\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"o3_name\",\"label\":\"三级机构\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.removeUserById(scope.row.id)}}})]}}])})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.queryInfo.pagenum,\"page-sizes\":[5, 10, 20, 50],\"page-size\":_vm.queryInfo.pagesize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChanged,\"current-change\":_vm.handleCurrentChange}})],1),_c('el-dialog',{attrs:{\"title\":\"添加一级机构\",\"visible\":_vm.addDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.addDialogVisible=$event}}},[_c('el-form',{ref:\"addFormRef\",attrs:{\"model\":_vm.addForm,\"rules\":_vm.addFormRules,\"label-width\":\"110px\"}},[_c('el-form-item',{attrs:{\"label\":\"一级机构名称\",\"prop\":\"username\"}},[_c('el-input',{model:{value:(_vm.addForm.username),callback:function ($$v) {_vm.$set(_vm.addForm, \"username\", $$v)},expression:\"addForm.username\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addUser}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"添加二级机构\",\"visible\":_vm.addCateDialogVisibletwo,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.addCateDialogVisibletwo=$event}}},[_c('el-form',{ref:\"addCateFormRef\",attrs:{\"model\":_vm.addCateForm,\"rules\":_vm.addCateFormRules,\"label-width\":\"130px\"}},[_c('el-form-item',{attrs:{\"label\":\"二级机构名称\",\"prop\":\"cat_name\"}},[_c('el-input',{model:{value:(_vm.addCateForm.cat_name),callback:function ($$v) {_vm.$set(_vm.addCateForm, \"cat_name\", $$v)},expression:\"addCateForm.cat_name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"所属一级机构名称\"}},[_c('el-cascader',{attrs:{\"options\":_vm.parentCateList,\"props\":_vm.cascaderProps,\"clearable\":\"\",\"change-on-select\":\"\"},model:{value:(_vm.selectedKeys),callback:function ($$v) {_vm.selectedKeys=$$v},expression:\"selectedKeys\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addCateDialogVisibletwo = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addCate}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"添加三级机构\",\"visible\":_vm.addCateDialogVisiblethree,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.addCateDialogVisiblethree=$event}}},[_c('el-form',{ref:\"addCateFormRef\",attrs:{\"model\":_vm.addCateFormthree,\"rules\":_vm.addCateFormRules,\"label-width\":\"130px\"}},[_c('el-form-item',{attrs:{\"label\":\"三级机构名称\",\"prop\":\"cat_name\"}},[_c('el-input',{model:{value:(_vm.addCateFormthree.cat_name),callback:function ($$v) {_vm.$set(_vm.addCateFormthree, \"cat_name\", $$v)},expression:\"addCateFormthree.cat_name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"所属一级机构名称\"}},[_c('el-cascader',{attrs:{\"options\":_vm.parentCateList,\"props\":_vm.cascaderProps,\"clearable\":\"\",\"change-on-select\":\"\"},on:{\"change\":_vm.parentCateChangedtwo},model:{value:(_vm.selectedKeys),callback:function ($$v) {_vm.selectedKeys=$$v},expression:\"selectedKeys\"}})],1),_c('el-form-item',{attrs:{\"label\":\"所属二级机构名称\"}},[_c('el-cascader',{attrs:{\"options\":_vm.parentCateListthree,\"props\":_vm.cascaderPropsthree,\"clearable\":\"\",\"change-on-select\":\"\"},model:{value:(_vm.selectedKeysthree),callback:function ($$v) {_vm.selectedKeysthree=$$v},expression:\"selectedKeysthree\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addCateDialogVisiblethree = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addCatethree}},[_vm._v(\"确 定\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"OrganManage\">\r\n        <el-card>\r\n            <!-- 查询 -->\r\n            <el-row type=\"flex\" justify=\"space-between\">\r\n                <el-form size=\"small\" class=\"demo-form-inline\" inline>\r\n                    <!-- <el-form-item label=\"场地编号:\" prop=\"placeId\">\r\n                        <el-input v-model.trim=\"queryInfo.query\" placeholder=\"请输入场地编号\" />\r\n                    </el-form-item> -->\r\n                    <el-form-item>\r\n                        <!-- <el-button size=\"small\" icon=\"el-icon-search\" @click=\"getUserListByName()\">查询</el-button> -->\r\n                        <el-button type=\"primary\" @click=\"addDialogVisible = true\">添加一级机构</el-button>\r\n                        <el-button type=\"primary\" @click=\"addCateDialogVisibletwo = true\">添加二级机构</el-button>\r\n                        <el-button type=\"primary\" @click=\"addCateDialogVisiblethree = true\">添加三级机构</el-button>\r\n                    </el-form-item>\r\n                </el-form>\r\n            </el-row>\r\n            <!-- 表格 -->\r\n            <el-table ref=\"table\" :data=\"userlist\" border>\r\n                <el-table-column type=\"index\" label=\"编号\" width=\"100\" show-overflow-tooltip />\r\n                <el-table-column prop=\"o1_name\" label=\"一级机构\" show-overflow-tooltip />\r\n                <el-table-column prop=\"o2_name\" label=\"二级机构\" show-overflow-tooltip />\r\n                <el-table-column prop=\"o3_name\" label=\"三级机构\" show-overflow-tooltip />\r\n                <el-table-column label=\"操作\" width=\"200\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-button type=\"danger\" icon=\"el-icon-delete\" size=\"mini\"\r\n                            @click=\"removeUserById(scope.row.id)\"></el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n            <!-- 分页区域 -->\r\n            <el-pagination @size-change=\"handleSizeChanged\" @current-change=\"handleCurrentChange\"\r\n                :current-page=\"queryInfo.pagenum\" :page-sizes=\"[5, 10, 20, 50]\" :page-size=\"queryInfo.pagesize\"\r\n                layout=\"total, sizes, prev, pager, next, jumper\" :total=\"total\">\r\n            </el-pagination>\r\n        </el-card>\r\n\r\n\r\n        <!-- 添加用户的对话框 -->\r\n        <!-- visible.sync为控制显示和隐藏 -->\r\n        <el-dialog title=\"添加一级机构\" :visible.sync=\"addDialogVisible\" width=\"50%\">\r\n            <!-- 内容主体区域 -->\r\n            <el-form :model=\"addForm\" :rules=\"addFormRules\" ref=\"addFormRef\" label-width=\"110px\">\r\n                <el-form-item label=\"一级机构名称\" prop=\"username\">\r\n                    <el-input v-model=\"addForm.username\"></el-input>\r\n                </el-form-item>\r\n\r\n            </el-form>\r\n            <!-- 底部区域 -->\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"addDialogVisible = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"addUser\">确 定</el-button>\r\n            </span>\r\n        </el-dialog>\r\n\r\n        <!-- 添加二级机构 -->\r\n        <el-dialog title=\"添加二级机构\" :visible.sync=\"addCateDialogVisibletwo\" width=\"50%\">\r\n            <!-- 添加分类的表单 -->\r\n            <el-form :model=\"addCateForm\" :rules=\"addCateFormRules\" ref=\"addCateFormRef\" label-width=\"130px\">\r\n                <el-form-item label=\"二级机构名称\" prop=\"cat_name\">\r\n                    <el-input v-model=\"addCateForm.cat_name\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"所属一级机构名称\">\r\n                    <!-- options用来指定数据源 , props用来指定配置对象（如展示什么与得到什么） change-on-select可以选择任意一级的数据-->\r\n                    <el-cascader v-model=\"selectedKeys\" :options=\"parentCateList\" :props=\"cascaderProps\" clearable\r\n                        change-on-select>\r\n                    </el-cascader>\r\n\r\n                </el-form-item>\r\n            </el-form>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"addCateDialogVisibletwo = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"addCate\">确 定</el-button>\r\n            </span>\r\n        </el-dialog>\r\n        <!-- 添加三级机构 -->\r\n        <el-dialog title=\"添加三级机构\" :visible.sync=\"addCateDialogVisiblethree\" width=\"50%\">\r\n            <!-- 添加分类的表单 -->\r\n            <el-form :model=\"addCateFormthree\" :rules=\"addCateFormRules\" ref=\"addCateFormRef\" label-width=\"130px\">\r\n                <el-form-item label=\"三级机构名称\" prop=\"cat_name\">\r\n                    <el-input v-model=\"addCateFormthree.cat_name\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"所属一级机构名称\">\r\n                    <!-- options用来指定数据源 , props用来指定配置对象（如展示什么与得到什么） change-on-select可以选择任意一级的数据-->\r\n                    <el-cascader v-model=\"selectedKeys\" :options=\"parentCateList\" :props=\"cascaderProps\"\r\n                        @change=\"parentCateChangedtwo\" clearable change-on-select>\r\n                    </el-cascader>\r\n\r\n                </el-form-item>\r\n                <el-form-item label=\"所属二级机构名称\">\r\n                    <!-- options用来指定数据源 , props用来指定配置对象（如展示什么与得到什么） change-on-select可以选择任意一级的数据-->\r\n                    <el-cascader v-model=\"selectedKeysthree\" :options=\"parentCateListthree\" :props=\"cascaderPropsthree\"\r\n                        clearable change-on-select>\r\n                    </el-cascader>\r\n\r\n                </el-form-item>\r\n            </el-form>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"addCateDialogVisiblethree = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"addCatethree\">确 定</el-button>\r\n            </span>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \"OrganManage\",\r\n    data() {\r\n        return {\r\n            addCateForm: {\r\n                //将要添加的分类的名称\r\n                cat_name: '',\r\n                //父级分类的id\r\n                cat_pid: 0,\r\n                //分类的等级，默认要添加的是1级分类(0为1级分类，1为2级分类，2为3级分类)\r\n                cat_level: 0\r\n            },\r\n            addCateFormthree: {\r\n                //将要添加的分类的名称\r\n                cat_name: '',\r\n                //父级分类的id\r\n                cat_pid: 0,\r\n                //分类的等级，默认要添加的是1级分类(0为1级分类，1为2级分类，2为3级分类)\r\n                cat_level: 0\r\n            },\r\n            //添加分类表单的验证规则对象\r\n            addCateFormRules: {\r\n                cat_name: [\r\n                    { required: true, message: '请输入分类名称', trigger: 'blur' }\r\n                ]\r\n            },\r\n            //获取用户列表的参数对象\r\n            queryInfo: {\r\n                //搜索关键字\r\n                query: '',\r\n                //当前的页数\r\n                pagenum: 1,\r\n                //当前每页显示多少条数据\r\n                pagesize: 10\r\n            },\r\n            userlist: [],\r\n            total: 0,\r\n            //控制添加用户对话框的显示与隐藏\r\n            addDialogVisible: false,\r\n            //添加用户的表单数据\r\n            addForm: {\r\n                username: '',\r\n                password: '',\r\n                email: '',\r\n                mobile: ''\r\n            },\r\n            //添加表单的验证规则对象\r\n            addFormRules: {\r\n                username: [\r\n                    { required: true, message: '请输入一级机构名称', trigger: 'blur' },\r\n                    { min: 3, max: 10, message: '用户名的长度在3~10个字符之间', trigger: 'blur' }\r\n                ],\r\n                password: [\r\n                    { required: true, message: '请输入密码', trigger: 'blur' },\r\n                    { min: 6, max: 15, message: '用户名的长度在6~15个字符之间', trigger: 'blur' }\r\n                ],\r\n            },\r\n            //控制修改用户对话框的显示与隐藏\r\n            editDialogVisible: false,\r\n            addCateDialogVisiblethree: false,\r\n            addCateDialogVisibletwo: false,\r\n            //修改用户信息时查询到的用户信息对象\r\n            editForm: {},\r\n            //控制分配角色对话框的显示与隐藏\r\n            setRolesDialogVisible: false,\r\n            //需要被分配角色的用户信息\r\n            userInfo: {},\r\n            //所有角色的数据列表\r\n            rolesList: [],\r\n            //已选中的角色Id值\r\n            selectedRoleId: '',\r\n            //父级分类的列表\r\n            parentCateList: [],\r\n            //指定级联选择器的配置对象\r\n            cascaderProps: {\r\n                value: 'o1_id',\r\n                label: 'o1_name',\r\n                children: 'children',\r\n                expandTrigger: 'hover'\r\n            },\r\n            //选中的父级分类的id数组\r\n            selectedKeys: '',\r\n            parentCateListthree: [],\r\n            //指定级联选择器的配置对象\r\n            cascaderPropsthree: {\r\n                value: 'o2_id',\r\n                label: 'o2_name',\r\n                children: 'children',\r\n                expandTrigger: 'hover'\r\n            },\r\n            //选中的父级分类的id数组\r\n            selectedKeysthree: ''\r\n        }\r\n    },\r\n    methods: {\r\n        async parentCateChangedtwo() {\r\n            console.log(555);\r\n            const { data: res2 } = await this.$http.post(`/Sys/organ/queryOrgan2/${this.selectedKeys}`)\r\n            this.parentCateListthree = res2.data\r\n        },\r\n\r\n        //获取用户列表\r\n        async getOrganList() {\r\n            this.queryInfo.pagenum = 0\r\n            const { data: res } = await this.$http.post(`/Sys/organ/queryAllOrganization/${this.queryInfo.pagenum}/${this.queryInfo.pagesize}`)\r\n            //   if(res.meta.status!==200){\r\n            //       return this.$message.error('获取用户列表失败！')\r\n            //   }\r\n\r\n            this.userlist = res.data\r\n            this.total = 0;\r\n            res.data.forEach(() => {\r\n                this.total++;\r\n            });\r\n            const { data: res1 } = await this.$http.post('/Sys/organ/queryOrgan1')\r\n            //  const {data:res2}=await this.$http.post('/Sys/organ/queryOrgan2')\r\n\r\n            //  if(res.meta.status!==200){\r\n            //     return this.$message.error('获取父级分类数据失败!')\r\n            //  }\r\n\r\n            this.parentCateList = res1.data\r\n\r\n\r\n\r\n        },\r\n        addCate() {\r\n            this.$refs.addCateFormRef.validate(async valid => {\r\n                if (!valid) return\r\n                const { data: res } = await this.$http.post(`/Sys/organ/insertOrgan2?o1Id=${this.selectedKeys}&o2Name=${this.addCateForm.cat_name}`)\r\n\r\n                //  if(res.meta.status!==201){\r\n                //      return this.$message.error('添加分类失败！')\r\n                //  }\r\n\r\n                this.$message.success('添加分类成功！')\r\n                //  this.getCateList()\r\n                this.addCateDialogVisibletwo = false\r\n            })\r\n        },\r\n        addCatethree() {\r\n            this.$refs.addCateFormRef.validate(async valid => {\r\n                if (!valid) return\r\n                const { data: res } = await this.$http.post(`/Sys/organ/insertOrgan3?o2Id=${this.selectedKeysthree}&o3Name=${this.addCateFormthree.cat_name}`)\r\n\r\n                //  if(res.meta.status!==201){\r\n                //      return this.$message.error('添加分类失败！')\r\n                //  }\r\n\r\n                this.$message.success('添加分类成功！')\r\n                //  this.getCateList()\r\n                this.addCateDialogVisiblethree = false\r\n            })\r\n        },\r\n        //获取一级权限分类列表\r\n        async getParentCateList() {\r\n            const { data: res1 } = await this.$http.post('/Sys/organ/queryOrgan1')\r\n            //  const {data:res2}=await this.$http.post('/Sys/organ/queryOrgan2')\r\n\r\n            //  if(res.meta.status!==200){\r\n            //     return this.$message.error('获取父级分类数据失败!')\r\n            //  }\r\n\r\n            this.parentCateList = res1.data\r\n            this.parentCateListthree = res2.data\r\n        },\r\n        async getUserListByName() {\r\n            this.queryInfo.pagenum = 0\r\n            const { data: res } = await this.$http.post(`/Sys/organ/queryOrganizationByName/${this.queryInfo.query}/${this.queryInfo.pagenum}/${this.queryInfo.pagesize}`)\r\n            //   if(res.meta.status!==200){\r\n            //       return this.$message.error('获取用户列表失败！')\r\n            //   }\r\n            console.log(res.data);\r\n            this.userlist = res.data\r\n            this.total = 8\r\n\r\n        },\r\n        //监听pagesize改变的事件\r\n        handleSizeChanged(newSize) {\r\n            this.queryInfo.pagesize = newSize\r\n            this.getOrganList()\r\n        },\r\n        //监听页码值改变的事件\r\n        handleCurrentChange(newPage) {\r\n            this.queryInfo.pagenum = newPage\r\n            this.getOrganList()\r\n        },\r\n        //监听switch开关状态的改变\r\n        async userStateChanged(userinfo) {\r\n            const { data: res } = await this.$http.put(`users/${userinfo.id}/state/${userinfo.mg_state}`)\r\n            if (res.meta.status !== 200) {\r\n                userinfo.mg_state = !userinfo.mg_state\r\n                return this.$message.error('更新用户状态失败！')\r\n            }\r\n            this.$message.success('更新用户状态成功！')\r\n        },\r\n        //监听添加用户对话框的关闭事件\r\n        addDialogClosed() {\r\n            this.$refs.addFormRef.resetFields()\r\n        },\r\n        //点击按钮 添加新用户\r\n        addUser() {\r\n            this.$refs.addFormRef.validate(async valid => {\r\n                if (!valid) return\r\n                //可以发起添加用户的网络请求\r\n                const { data: res } = await this.$http.post(`/Sys/organ/insertOrgan1?o1Name=${this.addForm.username}`)\r\n\r\n                //  if(res.meta.status!==201){\r\n                //      this.$message.error('添加用户失败！')\r\n                //  }\r\n                this.$message.success('添加用户成功!')\r\n                //隐藏添加用户的对话框\r\n                this.addDialogVisible = false\r\n                //重新获取用户列表数据\r\n                this.getOrganList()\r\n\r\n\r\n            })\r\n        },\r\n        //展示编辑用户的对话框\r\n        async showEditDialog(id) {\r\n            this.editDialogVisible = true\r\n\r\n            const { data: res } = await this.$http.post('users/' + id)\r\n\r\n            if (res.meta.status !== 200) {\r\n                return this.$message.error('查询用户信息失败！')\r\n            }\r\n            this.editForm = res.data\r\n        },\r\n        //监听修改用户对话框的关闭事件\r\n        editDialogClosed() {\r\n            this.$refs.editFormRef.resetFields()\r\n        },\r\n        //修改用户信息并提交\r\n        editUserInfo() {\r\n            this.$refs.editFormRef.validate(async valid => {\r\n                if (!valid) return\r\n                //发起修改用户信息的数据请求\r\n                const { data: res } = await this.$http.put('users/' + this.editForm.id, {\r\n                    email: this.editForm.email,\r\n                    mobile: this.editForm.mobile\r\n                })\r\n\r\n                if (res.meta.status !== 200) {\r\n                    return this.$message.error('更新用户信息失败！')\r\n                }\r\n\r\n                //关闭对话框\r\n                this.editDialogVisible = false\r\n                //刷新数据列表\r\n                this.getOrganList()\r\n                //提示用户\r\n                this.$message.success('更新用户信息成功！')\r\n            })\r\n        },\r\n        //根据Id删除对应的用户信息\r\n        async removeUserById(id) {\r\n            //弹框询问用户是否删除数据\r\n            const confirmResult = await this.$confirm('此操作将永久删除该用户, 是否继续?', '提示', {\r\n                confirmButtonText: '确定',\r\n                cancelButtonText: '取消',\r\n                type: 'warning'\r\n            }).catch(err => err)\r\n\r\n            //如果用户确认删除，则返回值为字符串confirm\r\n            //如果用户取消了删除，则返回值为字符串 cancel\r\n            if (confirmResult !== 'confirm') {\r\n                return this.$message.info('已取消删除')\r\n            }\r\n\r\n            const { data: res } = await this.$http.post(`/Sys/organ/deleteOrgan3/${id}`)\r\n\r\n            // if(res.meta.status!==200){\r\n            //     return this.$message.error('删除用户失败！')\r\n            // }\r\n            this.$message.success('删除用户成功！')\r\n            this.getOrganList()\r\n        },\r\n        //展示分配角色的对话框\r\n        async setRole(userInfo) {\r\n            this.userInfo = userInfo\r\n\r\n            //在展示对话框之前，获取所有角色的列表\r\n            const { data: res } = await this.$http.get('roles')\r\n            if (res.meta.status !== 200) {\r\n                return this.$message.error('获取角色列表失败！')\r\n            }\r\n\r\n            this.rolesList = res.data\r\n\r\n            this.setRolesDialogVisible = true\r\n        },\r\n        //点击按钮，分配角色\r\n        async saveRoleInfo() {\r\n            if (!this.selectedRoleId) {\r\n                return this.$message.error('请选择要分配的角色!')\r\n            }\r\n\r\n            const { data: res } = await this.$http.put(`users/${this.userInfo.id}/role`, {\r\n                rid: this.selectedRoleId\r\n            })\r\n\r\n            if (res.meta.status !== 200) {\r\n                return this.$message.error('更新角色失败！')\r\n            }\r\n\r\n            this.$message.success('更新角色成功！')\r\n            this.getOrganList()\r\n            this.setRolesDialogVisible = false\r\n        },\r\n        //监听分配角色对话框的关闭事件\r\n        setRoleDialogClosed() {\r\n            this.selectedRoleId = ''\r\n            this.userInfo = {}\r\n        }\r\n    },\r\n    created() {\r\n    },\r\n    mounted() {\r\n        this.getOrganList()\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.OrganManage {\r\n    height: 100%;\r\n    margin: 20px 0px;\r\n}\r\n\r\n.el-table {\r\n    margin: 20px 0px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./OrganManage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./OrganManage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrganManage.vue?vue&type=template&id=100fd222&scoped=true&\"\nimport script from \"./OrganManage.vue?vue&type=script&lang=js&\"\nexport * from \"./OrganManage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OrganManage.vue?vue&type=style&index=0&id=100fd222&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"100fd222\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","on","$event","addDialogVisible","_v","addCateDialogVisibletwo","addCateDialogVisiblethree","ref","userlist","scopedSlots","_u","key","fn","scope","removeUserById","row","id","queryInfo","pagenum","pagesize","total","handleSizeChanged","handleCurrentChange","addForm","addFormRules","model","value","username","callback","$$v","$set","expression","slot","addUser","addCateForm","addCateFormRules","cat_name","parentCateList","cascaderProps","selectedKeys","addCate","addCateFormthree","parentCateChangedtwo","parentCateListthree","cascaderPropsthree","selectedKeysthree","addCatethree","staticRenderFns","name","data","cat_pid","cat_level","required","message","trigger","query","password","email","mobile","min","max","editDialogVisible","editForm","setRolesDialogVisible","userInfo","rolesList","selectedRoleId","label","children","expandTrigger","methods","console","log","res2","$http","post","getOrganList","res","forEach","res1","$refs","addCateFormRef","validate","valid","$message","success","getParentCateList","getUserListByName","newSize","newPage","userStateChanged","userinfo","put","mg_state","meta","status","error","addDialogClosed","addFormRef","resetFields","showEditDialog","editDialogClosed","editFormRef","editUserInfo","confirmResult","$confirm","confirmButtonText","cancelButtonText","type","catch","err","info","setRole","get","saveRoleInfo","rid","setRoleDialogClosed","created","mounted","component"],"sourceRoot":""}