"use strict";(self["webpackChunkGDUOHRM"]=self["webpackChunkGDUOHRM"]||[]).push([[676],{9676:function(t,e,a){a.r(e),a.d(e,{default:function(){return d}});var l=function(){var t=this,e=t._self._c;return e("div",{staticClass:"SalaryCheck"},[e("el-card",[e("el-table",{attrs:{data:t.detailForm,border:"",stripe:""}},[e("el-table-column",{attrs:{type:"index",label:"编号",width:"100","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"fname",label:"制定人姓名","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"o3Name",label:"薪资标准","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"pname",label:"职位名称","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"allmoney",label:"总薪资","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"username",label:"受理人","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"createTime",label:"创建时间","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-tooltip",{attrs:{effect:"dark",content:"查看详情",placement:"top",enterable:!1}},[e("el-button",{attrs:{type:"warning",icon:"el-icon-setting",size:"mini"},on:{click:function(e){return t.showEditDialog(a.row.sid)}}})],1)]}}])})],1),e("el-pagination",{attrs:{"current-page":t.queryInfo.pagenum,"page-sizes":[5,10,20,50],"page-size":t.queryInfo.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChanged,"current-change":t.handleCurrentChange}})],1),e("el-dialog",{attrs:{title:"详情页面",visible:t.editDialogVisible,width:"50%"},on:{"update:visible":function(e){t.editDialogVisible=e}}},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:8}}),e("el-form",{attrs:{model:t.detailForm,"label-width":"100px"}},[e("el-form-item",{attrs:{label:"制定人"}},[e("el-input",{attrs:{disabled:""},model:{value:t.detailForm.fname,callback:function(e){t.$set(t.detailForm,"fname",e)},expression:"detailForm.fname"}})],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"薪酬标准"}},[e("el-input",{attrs:{disabled:""},model:{value:t.detailForm.o3Name,callback:function(e){t.$set(t.detailForm,"o3Name",e)},expression:"detailForm.o3Name"}})],1),e("el-form-item",{attrs:{label:"登记人编号"}},[e("el-input",{attrs:{disabled:""},model:{value:t.detailForm.sid,callback:function(e){t.$set(t.detailForm,"sid",e)},expression:"detailForm.sid"}})],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"薪酬总额"}},[e("el-input",{attrs:{disabled:""},model:{value:t.detailForm.allmoney,callback:function(e){t.$set(t.detailForm,"allmoney",e)},expression:"detailForm.allmoney"}})],1),e("el-form-item",{attrs:{label:"登记时间"}},[e("el-input",{attrs:{disabled:""},model:{value:t.detailForm.createTime,callback:function(e){t.$set(t.detailForm,"createTime",e)},expression:"detailForm.createTime"}})],1),e("el-form-item",{attrs:{label:"基本工资"}},[e("el-input",{attrs:{disabled:""},model:{value:t.detailForm.basic,callback:function(e){t.$set(t.detailForm,"basic",e)},expression:"detailForm.basic"}})],1)],1)],1),e("el-form",{attrs:{"label-width":"100px"}},t._l(t.detailForm.items,(function(a){return e("el-form-item",{key:a.id,attrs:{label:a.name}},[e("el-input",{attrs:{disabled:""},model:{value:a.value,callback:function(e){t.$set(a,"value",e)},expression:"item.value"}})],1)})),1)],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:t.reject}},[t._v("驳 回")]),e("el-button",{attrs:{type:"primary"},on:{click:t.comfirm}},[t._v("通 过")])],1)],1)],1)},i=[],o={name:"SalaryCheck",data(){return{data:[],queryInfo:{query:"",pagenum:1,pagesize:5},detailForm:[],total:0,addDialogVisible:!1,editDialogVisible:!1,setRolesDialogVisible:!1}},methods:{async reject(){const{data:t}=await this.$http.post(`/Sal/check/updateCheckFalseInfoBySid/${window.sessionStorage.getItem("id")}`);this.editDialogVisible=!1,this.$message.success("已驳回！"),this.getSalaryList()},async comfirm(){const{data:t}=await this.$http.post(`/Sal/check/updateCheckInfoBySid/${window.sessionStorage.getItem("id")}`);this.editDialogVisible=!1,this.getSalaryList(),this.$message.success("审核成功！")},async getSalaryList(){this.queryInfo.pagenum=0;const{data:t}=await this.$http.post(`/Sal/showRechecked?pageNum=${this.queryInfo.pagenum}&pageSize=${this.queryInfo.pagesize}`);this.detailForm=t.data,this.total=0,t.data.forEach((()=>{this.total++})),console.log(t.data[0]);const{data:e}=await this.$http.post("/Sal/add/queryXinZiBiaoZhun");this.catelist=e.data},async getUserListByName(){this.queryInfo.pagenum=this.queryInfo.pagenum-1;const{data:t}=await this.$http.post(`/Sys/user/queryUserByName/${this.queryInfo.query}/${this.queryInfo.pagenum}/${this.queryInfo.pagesize}`);console.log(t.data),this.detailForm=t.data,this.total=0,t.data.forEach((()=>{this.total++}))},handleSizeChanged(t){this.queryInfo.pagesize=t,this.getSalaryList()},handleCurrentChange(t){this.queryInfo.pagenum=t,this.getSalaryList()},addDialogClosed(){this.$refs.addFormRef.resetFields()},async showEditDialog(t){this.editDialogVisible=!0,window.sessionStorage.setItem("id",t);const{data:e}=await this.$http.post("/Sal/showSalInfoBySid/"+t);this.detailForm=e.data},async removeUserById(t){const e=await this.$confirm("此操作将永久删除该用户, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((t=>t));if("confirm"!==e)return this.$message.info("已取消删除");const{data:a}=await this.$http.post(`/Sal/add/deleteInfoBySid/${t}`);this.$message.success("删除用户成功！"),this.getSalaryList()}},created(){this.getSalaryList()}},s=o,r=a(1001),n=(0,r.Z)(s,l,i,!1,null,"b79bac48",null),d=n.exports}}]);
//# sourceMappingURL=676.4e4e3c54.js.map