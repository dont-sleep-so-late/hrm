{"version":3,"file":"js/926.daff5c23.js","mappings":"0JAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,UAAU,CAACA,EAAG,SAAS,CAACG,MAAM,CAAC,KAAO,OAAO,QAAU,kBAAkB,CAACH,EAAG,UAAU,CAACE,YAAY,mBAAmBC,MAAM,CAAC,KAAO,QAAQ,OAAS,KAAK,CAACH,EAAG,eAAe,CAACA,EAAG,WAAW,CAACG,MAAM,CAAC,YAAc,OAAOC,MAAM,CAACC,MAAOP,EAAIQ,UAAUC,MAAOC,SAAS,SAAUC,GAAMX,EAAIY,KAAKZ,EAAIQ,UAAW,QAAyB,kBAARG,EAAkBA,EAAIE,OAAQF,EAAK,EAAEG,WAAW,sBAAsB,GAAGZ,EAAG,eAAe,CAACA,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,QAAQ,KAAO,kBAAkBU,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOhB,EAAIiB,mBAAmB,IAAI,CAACjB,EAAIkB,GAAG,QAAQhB,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,UAAU,KAAO,SAASU,GAAG,CAAC,MAAQ,SAASC,GAAQhB,EAAImB,kBAAmB,CAAI,IAAI,CAACnB,EAAIkB,GAAG,WAAW,IAAI,IAAI,GAAGhB,EAAG,WAAW,CAACkB,IAAI,QAAQf,MAAM,CAAC,KAAOL,EAAIqB,SAAS,OAAS,KAAK,CAACnB,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,QAAQ,MAAQ,KAAK,MAAQ,MAAM,wBAAwB,MAAMH,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,aAAa,MAAQ,OAAO,wBAAwB,MAAMH,EAAG,kBAAkB,CAACG,MAAM,CAAC,MAAQ,KAAK,MAAQ,OAAOiB,YAAYtB,EAAIuB,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAACxB,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,UAAU,KAAO,eAAe,KAAO,QAAQU,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOhB,EAAI2B,eAAeD,EAAME,IAAIC,KAAK,KAAK3B,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,SAAS,KAAO,iBAAiB,KAAO,QAAQU,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOhB,EAAI8B,eAAeJ,EAAME,IAAIC,KAAK,KAAK,QAAQ,GAAG3B,EAAG,gBAAgB,CAACG,MAAM,CAAC,eAAeL,EAAIQ,UAAUuB,QAAQ,aAAa,CAAC,GAAI,GAAI,GAAI,KAAK,YAAY/B,EAAIQ,UAAUwB,SAAS,OAAS,0CAA0C,MAAQhC,EAAIiC,OAAOlB,GAAG,CAAC,cAAcf,EAAIkC,kBAAkB,iBAAiBlC,EAAImC,wBAAwB,GAAGjC,EAAG,YAAY,CAACG,MAAM,CAAC,MAAQ,OAAO,QAAUL,EAAImB,iBAAiB,MAAQ,OAAOJ,GAAG,CAAC,iBAAiB,SAASC,GAAQhB,EAAImB,iBAAiBH,CAAM,EAAE,MAAQhB,EAAIoC,kBAAkB,CAAClC,EAAG,UAAU,CAACkB,IAAI,aAAaf,MAAM,CAAC,MAAQL,EAAIqC,QAAQ,MAAQrC,EAAIsC,aAAa,cAAc,SAAS,CAACpC,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,MAAM,KAAO,aAAa,CAACH,EAAG,WAAW,CAACI,MAAM,CAACC,MAAOP,EAAIqC,QAAQE,SAAU7B,SAAS,SAAUC,GAAMX,EAAIY,KAAKZ,EAAIqC,QAAS,WAAY1B,EAAI,EAAEG,WAAW,uBAAuB,IAAI,GAAGZ,EAAG,OAAO,CAACE,YAAY,gBAAgBC,MAAM,CAAC,KAAO,UAAUmC,KAAK,UAAU,CAACtC,EAAG,YAAY,CAACa,GAAG,CAAC,MAAQ,SAASC,GAAQhB,EAAImB,kBAAmB,CAAK,IAAI,CAACnB,EAAIkB,GAAG,SAAShB,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,WAAWU,GAAG,CAAC,MAAQf,EAAIyC,UAAU,CAACzC,EAAIkB,GAAG,UAAU,IAAI,GAAGhB,EAAG,YAAY,CAACG,MAAM,CAAC,MAAQ,OAAO,QAAUL,EAAI0C,kBAAkB,MAAQ,OAAO3B,GAAG,CAAC,iBAAiB,SAASC,GAAQhB,EAAI0C,kBAAkB1B,CAAM,EAAE,MAAQhB,EAAI2C,mBAAmB,CAACzC,EAAG,UAAU,CAACkB,IAAI,cAAcf,MAAM,CAAC,MAAQL,EAAI4C,SAAS,cAAc,SAAS,CAAC1C,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,SAAS,CAACH,EAAG,WAAW,CAACI,MAAM,CAACC,MAAOP,EAAI4C,SAASL,SAAU7B,SAAS,SAAUC,GAAMX,EAAIY,KAAKZ,EAAI4C,SAAU,WAAYjC,EAAI,EAAEG,WAAW,wBAAwB,IAAI,GAAGZ,EAAG,OAAO,CAACE,YAAY,gBAAgBC,MAAM,CAAC,KAAO,UAAUmC,KAAK,UAAU,CAACtC,EAAG,YAAY,CAACa,GAAG,CAAC,MAAQ,SAASC,GAAQhB,EAAI0C,mBAAoB,CAAK,IAAI,CAAC1C,EAAIkB,GAAG,SAAShB,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,WAAWU,GAAG,CAAC,MAAQf,EAAI6C,eAAe,CAAC7C,EAAIkB,GAAG,UAAU,IAAI,IAAI,EACpvG,EACI4B,EAAkB,GCoEtB,GACAC,KAAA,mBACAC,IAAAA,GACA,OAEAxC,UAAA,CAEAC,MAAA,GAEAsB,QAAA,EAEAC,SAAA,IAEAX,SAAA,GACAY,MAAA,EAEAd,kBAAA,EAEAkB,QAAA,CACAE,SAAA,GACAU,SAAA,GACAC,MAAA,GACAC,OAAA,IAGAb,aAAA,CACAC,SAAA,CACA,CAAAa,UAAA,EAAAC,QAAA,SAAAC,QAAA,QACA,CAAAC,IAAA,EAAAC,IAAA,GAAAH,QAAA,mBAAAC,QAAA,SAEAL,SAAA,CACA,CAAAG,UAAA,EAAAC,QAAA,QAAAC,QAAA,QACA,CAAAC,IAAA,EAAAC,IAAA,GAAAH,QAAA,mBAAAC,QAAA,UAIAZ,mBAAA,EAEAE,SAAA,GAEAa,uBAAA,EAEAC,SAAA,GAEAC,UAAA,GAEAC,eAAA,GAEA,EACAC,QAAA,CAEA,uBAAAC,GAEA,MAAAd,KAAAe,SAAA,KAAAC,MAAAC,KAAA,yCAAAzD,UAAAuB,WAAA,KAAAvB,UAAAwB,YAIA,KAAAX,SAAA0C,EAAAf,KACA,KAAAf,MAAA,EAEA,MAAAe,KAAAf,SAAA,KAAA+B,MAAAC,KAAA,2CACAhC,EAAAe,KAAAkB,SAAA,KACA,KAAAjC,OAAA,GAGA,EACA,uBAAAhB,GACA,YAAAT,UAAAC,MAAA,KAAAqD,wBACA,CACA,KAAAtD,UAAAuB,QAAA,EACA,MAAAiB,KAAAe,SAAA,KAAAC,MAAAC,KAAA,kDAAAzD,UAAAC,SAAA,KAAAD,UAAAuB,WAAA,KAAAvB,UAAAwB,YACA,KAAAX,SAAA0C,EAAAf,KACA,KAAAf,MAAA,EACA8B,EAAAf,KAAAkB,SAAA,KACA,KAAAjC,OAAA,GAEA,CACA,EAEAC,iBAAAA,CAAAiC,GACA,KAAA3D,UAAAwB,SAAAmC,EACA,KAAAL,mBACA,EAEA3B,mBAAAA,CAAAiC,GACAC,QAAAC,IAAA,KAAA9D,UAAAuB,SACA,KAAAvB,UAAAuB,QAAAqC,EACA,KAAAN,mBACA,EAEA1B,eAAAA,GACA,KAAAmC,MAAAC,WAAAC,aACA,EAEAhC,OAAAA,GACA,KAAA8B,MAAAC,WAAAE,UAAA,UACA,IAAAC,EAAA,OAEA,MAAA3B,KAAAe,SAAA,KAAAC,MAAAC,KAAA,kDAAA5B,QAAAE,YAKA,KAAAqC,SAAAC,QAAA,WAEA,KAAA1D,kBAAA,EAEA,KAAA2C,mBAAA,GAEA,EAEA,oBAAAnC,CAAAmD,GACA,KAAApC,mBAAA,EACAqC,OAAAC,eAAAC,QAAA,KAAAH,EACA,EAEAnC,gBAAAA,GACA,KAAA4B,MAAAW,YAAAT,aACA,EAEA5B,YAAAA,GACA,KAAA0B,MAAAW,YAAAR,UAAA,UACA,IAAAC,EAAA,OAEA,MAAA3B,KAAAe,SAAA,KAAAC,MAAAC,KAAA,uDAAArB,SAAAL,iBAAAwC,OAAAC,eAAAG,QAAA,SAOA,KAAAzC,mBAAA,EAEA,KAAAoB,oBAEA,KAAAc,SAAAC,QAAA,eAEA,EAEA,oBAAA/C,CAAAgD,GAEA,MAAAM,QAAA,KAAAC,SAAA,2BACAC,kBAAA,KACAC,iBAAA,KACAC,KAAA,YACAC,OAAAC,GAAAA,IAIA,eAAAN,EACA,YAAAR,SAAAe,KAAA,SAGA,MAAA3C,KAAAe,SAAA,KAAAC,MAAAC,KAAA,2CAAAa,KAKA,KAAAF,SAAAC,QAAA,WACA,KAAAf,mBACA,GAKA8B,OAAAA,GACA,KAAA9B,mBACA,GC7OyQ,I,UCQrQ+B,GAAY,OACd,EACA9F,EACA+C,GACA,EACA,KACA,WACA,MAIF,EAAe+C,EAAiB,O","sources":["webpack://GDUOHRM/./src/pages/System/ProfessionManage.vue","webpack://GDUOHRM/src/pages/System/ProfessionManage.vue","webpack://GDUOHRM/./src/pages/System/ProfessionManage.vue?7baa","webpack://GDUOHRM/./src/pages/System/ProfessionManage.vue?c1bf"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"ProfessionManage\"},[_c('el-card',[_c('el-row',{attrs:{\"type\":\"flex\",\"justify\":\"space-between\"}},[_c('el-form',{staticClass:\"demo-form-inline\",attrs:{\"size\":\"small\",\"inline\":\"\"}},[_c('el-form-item',[_c('el-input',{attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.queryInfo.query),callback:function ($$v) {_vm.$set(_vm.queryInfo, \"query\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"queryInfo.query\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"size\":\"small\",\"icon\":\"el-icon-search\"},on:{\"click\":function($event){return _vm.getUserListByName()}}},[_vm._v(\"查询\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){_vm.addDialogVisible = true}}},[_vm._v(\"添加职位\")])],1)],1)],1),_c('el-table',{ref:\"table\",attrs:{\"data\":_vm.userlist,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"编号\",\"width\":\"100\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"profession\",\"label\":\"职位名称\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.showEditDialog(scope.row.p_id)}}}),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.removeUserById(scope.row.p_id)}}})]}}])})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.queryInfo.pagenum,\"page-sizes\":[10, 20, 50, 100],\"page-size\":_vm.queryInfo.pagesize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChanged,\"current-change\":_vm.handleCurrentChange}})],1),_c('el-dialog',{attrs:{\"title\":\"添加职位\",\"visible\":_vm.addDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.addDialogVisible=$event},\"close\":_vm.addDialogClosed}},[_c('el-form',{ref:\"addFormRef\",attrs:{\"model\":_vm.addForm,\"rules\":_vm.addFormRules,\"label-width\":\"70px\"}},[_c('el-form-item',{attrs:{\"label\":\"职位名\",\"prop\":\"username\"}},[_c('el-input',{model:{value:(_vm.addForm.username),callback:function ($$v) {_vm.$set(_vm.addForm, \"username\", $$v)},expression:\"addForm.username\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addUser}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"修改用户\",\"visible\":_vm.editDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.editDialogVisible=$event},\"close\":_vm.editDialogClosed}},[_c('el-form',{ref:\"editFormRef\",attrs:{\"model\":_vm.editForm,\"label-width\":\"70px\"}},[_c('el-form-item',{attrs:{\"label\":\"职位名称\"}},[_c('el-input',{model:{value:(_vm.editForm.username),callback:function ($$v) {_vm.$set(_vm.editForm, \"username\", $$v)},expression:\"editForm.username\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.editDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.editUserInfo}},[_vm._v(\"确 定\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"ProfessionManage\">\r\n        <el-card>\r\n            <!-- 查询 -->\r\n            <el-row type=\"flex\" justify=\"space-between\">\r\n                <el-form size=\"small\" class=\"demo-form-inline\" inline>\r\n                    <el-form-item>\r\n                        <el-input v-model.trim=\"queryInfo.query\" placeholder=\"请输入\" /></el-form-item>\r\n                    <el-form-item>\r\n                        <el-button size=\"small\" icon=\"el-icon-search\" @click=\"getUserListByName()\">查询</el-button>\r\n                        <el-button type=\"primary\" size=\"small\" @click=\"addDialogVisible = true\">添加职位</el-button>\r\n                    </el-form-item>\r\n                </el-form>\r\n            </el-row>\r\n            <!-- 表格 -->\r\n            <el-table ref=\"table\" :data=\"userlist\" border>\r\n                <el-table-column type=\"index\" label=\"编号\" width=\"100\" show-overflow-tooltip />\r\n                <el-table-column prop=\"profession\" label=\"职位名称\" show-overflow-tooltip />\r\n                <el-table-column label=\"操作\" width=\"200\">\r\n                    <template slot-scope=\"scope\">\r\n                        <!-- 修改按钮 -->\r\n                        <el-button type=\"primary\" icon=\"el-icon-edit\" size=\"mini\"\r\n                            @click=\"showEditDialog(scope.row.p_id)\"></el-button>\r\n                        <!-- 删除按钮 -->\r\n                        <el-button type=\"danger\" icon=\"el-icon-delete\" size=\"mini\"\r\n                            @click=\"removeUserById(scope.row.p_id)\"></el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n            <!-- 分页区域 -->\r\n            <el-pagination @size-change=\"handleSizeChanged\" @current-change=\"handleCurrentChange\"\r\n                :current-page=\"queryInfo.pagenum\" :page-sizes=\"[10, 20, 50, 100]\" :page-size=\"queryInfo.pagesize\"\r\n                layout=\"total, sizes, prev, pager, next, jumper\" :total=\"total\">\r\n            </el-pagination>\r\n        </el-card>\r\n\r\n        <!-- 添加用户的对话框 -->\r\n        <!-- visible.sync为控制显示和隐藏 -->\r\n        <el-dialog title=\"添加职位\" :visible.sync=\"addDialogVisible\" width=\"50%\" @close=\"addDialogClosed\">\r\n            <!-- 内容主体区域 -->\r\n            <el-form :model=\"addForm\" :rules=\"addFormRules\" ref=\"addFormRef\" label-width=\"70px\">\r\n                <el-form-item label=\"职位名\" prop=\"username\">\r\n                    <el-input v-model=\"addForm.username\"></el-input>\r\n                </el-form-item>\r\n            </el-form>\r\n            <!-- 底部区域 -->\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"addDialogVisible = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"addUser\">确 定</el-button>\r\n            </span>\r\n        </el-dialog>\r\n\r\n        <!--修改用户的对话框  -->\r\n        <el-dialog title=\"修改用户\" :visible.sync=\"editDialogVisible\" width=\"50%\" @close=\"editDialogClosed\">\r\n            <el-form ref=\"editFormRef\" :model=\"editForm\" label-width=\"70px\">\r\n                <!-- prop是绑定验证规则的属性 -->\r\n                <el-form-item label=\"职位名称\">\r\n                    <el-input v-model=\"editForm.username\"></el-input>\r\n                </el-form-item>\r\n            </el-form>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"editDialogVisible = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"editUserInfo\">确 定</el-button>\r\n            </span>\r\n        </el-dialog>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \"ProfessionManage\",\r\n    data() {\r\n        return {\r\n            //获取用户列表的参数对象\r\n            queryInfo: {\r\n                //搜索关键字\r\n                query: '',\r\n                //当前的页数\r\n                pagenum: 0,\r\n                //当前每页显示多少条数据\r\n                pagesize: 10\r\n            },\r\n            userlist: [],\r\n            total: 0,\r\n            //控制添加用户对话框的显示与隐藏\r\n            addDialogVisible: false,\r\n            //添加用户的表单数据\r\n            addForm: {\r\n                username: '',\r\n                password: '',\r\n                email: '',\r\n                mobile: ''\r\n            },\r\n            //添加表单的验证规则对象\r\n            addFormRules: {\r\n                username: [\r\n                    { required: true, message: '请输入职位名', trigger: 'blur' },\r\n                    { min: 2, max: 10, message: '用户名的长度在2~10个字符之间', trigger: 'blur' }\r\n                ],\r\n                password: [\r\n                    { required: true, message: '请输入密码', trigger: 'blur' },\r\n                    { min: 6, max: 15, message: '用户名的长度在6~15个字符之间', trigger: 'blur' }\r\n                ],\r\n            },\r\n            //控制修改用户对话框的显示与隐藏\r\n            editDialogVisible: false,\r\n            //修改用户信息时查询到的用户信息对象\r\n            editForm: {},\r\n            //控制分配角色对话框的显示与隐藏\r\n            setRolesDialogVisible: false,\r\n            //需要被分配角色的用户信息\r\n            userInfo: {},\r\n            //所有角色的数据列表\r\n            rolesList: [],\r\n            //已选中的角色Id值\r\n            selectedRoleId: ''\r\n        }\r\n    },\r\n    methods: {\r\n        //获取用户列表\r\n        async getProfessionList() {\r\n            //    this.queryInfo.pagenum=0\r\n            const { data: res } = await this.$http.post(`/Sys/position/queryAllProfession/${this.queryInfo.pagenum}/${this.queryInfo.pagesize}`)\r\n            //   if(res.meta.status!==200){\r\n            //       return this.$message.error('获取用户列表失败！')\r\n            //   }\r\n            this.userlist = res.data\r\n            this.total = 0;\r\n\r\n            const { data: total } = await this.$http.post(`/Sys/position/queryAllProfession/0/1000`)\r\n            total.data.forEach(() => {\r\n                this.total++;\r\n            });\r\n\r\n        },\r\n        async getUserListByName() {\r\n            if (this.queryInfo.query == '') this.getProfessionList()\r\n            else {\r\n                this.queryInfo.pagenum = 0\r\n                const { data: res } = await this.$http.post(`/Sys/position/queryProfessionByProfession/${this.queryInfo.query}/${this.queryInfo.pagenum}/${this.queryInfo.pagesize}`)\r\n                this.userlist = res.data\r\n                this.total = 0;\r\n                res.data.forEach(() => {\r\n                    this.total++;\r\n                });\r\n            }\r\n        },\r\n        //监听pagesize改变的事件\r\n        handleSizeChanged(newSize) {\r\n            this.queryInfo.pagesize = newSize\r\n            this.getProfessionList()\r\n        },\r\n        //监听页码值改变的事件\r\n        handleCurrentChange(newPage) {\r\n            console.log(this.queryInfo.pagenum);\r\n            this.queryInfo.pagenum = newPage\r\n            this.getProfessionList()\r\n        },\r\n        //监听添加用户对话框的关闭事件\r\n        addDialogClosed() {\r\n            this.$refs.addFormRef.resetFields()\r\n        },\r\n        //点击按钮 添加新用户\r\n        addUser() {\r\n            this.$refs.addFormRef.validate(async valid => {\r\n                if (!valid) return\r\n                //可以发起添加用户的网络请求\r\n                const { data: res } = await this.$http.post(`/Sys/position/insertProfession?profession=${this.addForm.username}`)\r\n\r\n                //  if(res.meta.status!==201){\r\n                //      this.$message.error('添加用户失败！')\r\n                //  }\r\n                this.$message.success('添加用户成功!')\r\n                //隐藏添加用户的对话框\r\n                this.addDialogVisible = false\r\n                //重新获取用户列表数据\r\n                this.getProfessionList()\r\n            })\r\n        },\r\n        //展示编辑用户的对话框\r\n        async showEditDialog(id) {\r\n            this.editDialogVisible = true\r\n            window.sessionStorage.setItem(\"id\", id)\r\n        },\r\n        //监听修改用户对话框的关闭事件\r\n        editDialogClosed() {\r\n            this.$refs.editFormRef.resetFields()\r\n        },\r\n        //修改用户信息并提交\r\n        editUserInfo() {\r\n            this.$refs.editFormRef.validate(async valid => {\r\n                if (!valid) return\r\n                //发起修改用户信息的数据请求\r\n                const { data: res } = await this.$http.post(`/Sys/position/updateProfessionByPid?profession=${this.editForm.username}&p_id=${window.sessionStorage.getItem('id')}`)\r\n\r\n                //  if(res.meta.status!==200){\r\n                //      return this.$message.error('更新用户信息失败！')\r\n                //  }\r\n\r\n                //关闭对话框\r\n                this.editDialogVisible = false\r\n                //刷新数据列表\r\n                this.getProfessionList()\r\n                //提示用户\r\n                this.$message.success('更新用户信息成功！')\r\n            })\r\n        },\r\n        //根据Id删除对应的用户信息\r\n        async removeUserById(id) {\r\n            //弹框询问用户是否删除数据\r\n            const confirmResult = await this.$confirm('此操作将永久删除该用户, 是否继续?', '提示', {\r\n                confirmButtonText: '确定',\r\n                cancelButtonText: '取消',\r\n                type: 'warning'\r\n            }).catch(err => err)\r\n\r\n            //如果用户确认删除，则返回值为字符串confirm\r\n            //如果用户取消了删除，则返回值为字符串 cancel\r\n            if (confirmResult !== 'confirm') {\r\n                return this.$message.info('已取消删除')\r\n            }\r\n\r\n            const { data: res } = await this.$http.post(`/Sys/position/deleteProfessionByPid?pId=${id}`)\r\n\r\n            // if(res.meta.status!==200){\r\n            //     return this.$message.error('删除用户失败！')\r\n            // }\r\n            this.$message.success('删除用户成功！')\r\n            this.getProfessionList()\r\n        },\r\n\r\n\r\n\r\n    },\r\n    created() {\r\n        this.getProfessionList()\r\n    },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.ProfessionManage {\r\n    height: 100%;\r\n    margin: 20px 0px;\r\n}\r\n\r\n.el-table {\r\n    margin: 20px 0px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ProfessionManage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ProfessionManage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProfessionManage.vue?vue&type=template&id=4618f5a4&scoped=true&\"\nimport script from \"./ProfessionManage.vue?vue&type=script&lang=js&\"\nexport * from \"./ProfessionManage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProfessionManage.vue?vue&type=style&index=0&id=4618f5a4&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4618f5a4\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","model","value","queryInfo","query","callback","$$v","$set","trim","expression","on","$event","getUserListByName","_v","addDialogVisible","ref","userlist","scopedSlots","_u","key","fn","scope","showEditDialog","row","p_id","removeUserById","pagenum","pagesize","total","handleSizeChanged","handleCurrentChange","addDialogClosed","addForm","addFormRules","username","slot","addUser","editDialogVisible","editDialogClosed","editForm","editUserInfo","staticRenderFns","name","data","password","email","mobile","required","message","trigger","min","max","setRolesDialogVisible","userInfo","rolesList","selectedRoleId","methods","getProfessionList","res","$http","post","forEach","newSize","newPage","console","log","$refs","addFormRef","resetFields","validate","valid","$message","success","id","window","sessionStorage","setItem","editFormRef","getItem","confirmResult","$confirm","confirmButtonText","cancelButtonText","type","catch","err","info","created","component"],"sourceRoot":""}