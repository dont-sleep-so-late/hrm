"use strict";(self["webpackChunkGDUOHRM"]=self["webpackChunkGDUOHRM"]||[]).push([[364],{5364:function(e,t,a){a.r(t),a.d(t,{default:function(){return n}});var l=function(){var e=this,t=e._self._c;return t("div",{staticClass:"SalaryItem"},[t("el-card",[t("el-row",{attrs:{type:"flex",justify:"space-between"}},[t("el-form",{staticClass:"demo-form-inline",attrs:{inline:""}},[t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addDialogVisible=!0}}},[e._v("添加")])],1)],1)],1),t("el-table",{ref:"table",attrs:{data:e.tableData,border:""}},[t("el-table-column",{attrs:{type:"index",label:"编号",width:"100","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"name",label:"薪酬","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"createdTime",label:"创建时间","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"success",size:"small"},on:{click:function(t){return e.showUpdateDialog({data:a.row})}}},[e._v("编辑")]),t("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){return e.deletecourse(a.row.id)}}},[e._v("删除")])]}}])})],1),t("el-pagination",{attrs:{"current-page":e.queryInfo.pagenum,"page-sizes":[5,10,20,50],"page-size":e.queryInfo.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.total}}),t("el-dialog",{attrs:{title:"添加薪酬标准",visible:e.addDialogVisible,width:"50%"},on:{"update:visible":function(t){e.addDialogVisible=t}}},[t("el-row",{attrs:{gutter:20}},[t("el-form",{ref:"editFormRef",attrs:{"label-width":"110px"}},[t("el-form-item",{attrs:{label:"薪酬项目"}},[t("el-input",{model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),t("el-form-item",{attrs:{label:"公式"}},[t("el-input",{model:{value:e.addForm.formula,callback:function(t){e.$set(e.addForm,"formula",t)},expression:"addForm.formula"}})],1),t("el-form-item",{attrs:{label:"追加"}},[t("el-input",{model:{value:e.addForm.supplement,callback:function(t){e.$set(e.addForm,"supplement",t)},expression:"addForm.supplement"}})],1),t("el-form-item",{attrs:{label:"制定人"}},[t("el-input",{attrs:{disabled:""},model:{value:e.addForm.createdBy,callback:function(t){e.$set(e.addForm,"createdBy",t)},expression:"addForm.createdBy"}})],1),t("el-form-item",{attrs:{label:"创造时间"}},[t("el-input",{attrs:{disabled:""},model:{value:e.addForm.createdTime,callback:function(t){e.$set(e.addForm,"createdTime",t)},expression:"addForm.createdTime"}})],1)],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.addDialogVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.addSalary}},[e._v("确 定")])],1)],1),t("el-dialog",{attrs:{title:"修改薪酬标准",visible:e.updateDialogVisible,width:"50%"},on:{"update:visible":function(t){e.updateDialogVisible=t}}},[t("el-row",{attrs:{gutter:20}},[t("el-form",{ref:"editFormRef",attrs:{"label-width":"110px"}},[t("el-form-item",{attrs:{label:"薪酬项目"}},[t("el-input",{model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name",t)},expression:"editForm.name"}})],1),t("el-form-item",{attrs:{label:"公式"}},[t("el-input",{model:{value:e.editForm.formula,callback:function(t){e.$set(e.editForm,"formula",t)},expression:"editForm.formula"}})],1),t("el-form-item",{attrs:{label:"追加"}},[t("el-input",{model:{value:e.editForm.supplement,callback:function(t){e.$set(e.editForm,"supplement",t)},expression:"editForm.supplement"}})],1),t("el-form-item",{attrs:{label:"制定人"}},[t("el-input",{attrs:{disabled:""},model:{value:e.editForm.createdBy,callback:function(t){e.$set(e.editForm,"createdBy",t)},expression:"editForm.createdBy"}})],1),t("el-form-item",{attrs:{label:"创造时间"}},[t("el-input",{attrs:{disabled:""},model:{value:e.editForm.createdTime,callback:function(t){e.$set(e.editForm,"createdTime",t)},expression:"editForm.createdTime"}})],1)],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.updateDialogVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.updateSalary}},[e._v("确 定")])],1)],1)],1)],1)},i=[],s={name:"SalaryItem",data(){return{tableData:[],queryInfo:{query:"",pagenum:0,pagesize:5},addDialogVisible:!1,updateDialogVisible:!1,userlist:[],addForm:{id:"",name:"",formula:"",supplement:"",createdBy:window.localStorage.getItem("username"),createdTime:(new Date).toLocaleDateString(),updateBy:"",deleteFlag:"",updateTime:""},editForm:{id:"",name:"",formula:"",supplement:"",createdBy:"",createdTime:"",updateBy:window.localStorage.getItem("username"),deleteFlag:"",updateTime:""},total:0}},created(){this.getPageList()},methods:{async getPageList(){var e=this;await this.$http.get(`salitem/list?pageNum=${this.queryInfo.pagenum}&pageSize=${this.queryInfo.pagesize}`).then((function(t){e.tableData=t.data.data})),this.total=0,e.tableData.forEach((()=>{this.total++}))},async addSalary(){this.addForm.createdTime="";const{data:e}=await this.$http.post("/salitem/add",this.addForm);"false"==e.mess?this.$message.error("添加薪酬标准失败！"):(this.$message.success("添加薪酬标准成功!"),this.getPageList()),this.addDialogVisible=!1},deletecourse(e){this.$confirm("确认要删除该薪酬标准吗, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.deleteSalary(e)})).catch((()=>{this.$message({type:"info",message:"已取消删除"})}))},async deleteSalary(e){await this.$http.post(`/salitem/delete?id=${e}`).then((e=>{"false"==e.data.mess?this.$message.error(e.data.mess):this.$message.success("删除成功！")})),this.getPageList()},showUpdateDialog(e){this.editForm=e.data,this.updateDialogVisible=!0},async updateSalary(){delete this.editForm.customize;const{data:e}=await this.$http.post("/salitem/update",this.editForm);"false"==e.mess?this.$message.error("修改失败！"):(this.$message.success("修改薪酬成功!"),this.getPageList()),this.updateDialogVisible=!1}}},o=s,r=a(1001),d=(0,r.Z)(o,l,i,!1,null,"313aafe2",null),n=d.exports}}]);
//# sourceMappingURL=364.870b191b.js.map