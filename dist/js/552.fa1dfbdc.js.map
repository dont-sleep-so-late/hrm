{"version":3,"file":"js/552.fa1dfbdc.js","mappings":"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","sources":["webpack://GDUOHRM/./src/pages/System/RoleManage.vue","webpack://GDUOHRM/src/pages/System/RoleManage.vue","webpack://GDUOHRM/./src/pages/System/RoleManage.vue?cca7","webpack://GDUOHRM/./src/pages/System/RoleManage.vue?7be7"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"RoleManage\"},[_c('el-card',[_c('el-row',{attrs:{\"type\":\"flex\",\"justify\":\"space-between\"}},[_c('el-form',{staticClass:\"demo-form-inline\",attrs:{\"size\":\"small\",\"inline\":\"\"}},[_c('el-form-item',{attrs:{\"label\":\"\",\"prop\":\"placeId\"}},[_c('el-input',{attrs:{\"clearable\":\"\",\"placeholder\":\"请输入\"},model:{value:(_vm.queryInfo.query),callback:function ($$v) {_vm.$set(_vm.queryInfo, \"query\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"queryInfo.query\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"size\":\"small\",\"icon\":\"el-icon-search\"},on:{\"click\":function($event){return _vm.getUserListByName()}}},[_vm._v(\"查询\")])],1)],1)],1),_c('el-table',{ref:\"table\",attrs:{\"data\":_vm.userlist,\"border\":\"\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"编号\",\"width\":\"100\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"username\",\"label\":\"账号\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"role_name\",\"label\":\"角色\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.showEditDialog(scope.row.u_id)}}}),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.removeUserById(scope.row.u_id)}}})]}}])})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.queryInfo.pagenum,\"page-sizes\":[5, 10, 20, 50],\"page-size\":_vm.queryInfo.pagesize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChanged,\"current-change\":_vm.handleCurrentChange}})],1),_c('el-dialog',{attrs:{\"title\":\"修改用户\",\"visible\":_vm.editDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.editDialogVisible=$event},\"close\":_vm.editDialogClosed}},[_c('el-form',{ref:\"editFormRef\",attrs:{\"model\":_vm.editForm,\"label-width\":\"70px\"}},[_c('el-form-item',{attrs:{\"label\":\"身份\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.selectedRoleId),callback:function ($$v) {_vm.selectedRoleId=$$v},expression:\"selectedRoleId\"}},_vm._l((_vm.userInfo1),function(item){return _c('el-option',{key:item.r_id,attrs:{\"label\":item.role_name,\"value\":item.r_id}})}),1)],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.editDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.editUserInfo}},[_vm._v(\"确 定\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"RoleManage\">\r\n        <el-card>\r\n            <!-- 查询 -->\r\n            <el-row type=\"flex\" justify=\"space-between\">\r\n                <el-form size=\"small\" class=\"demo-form-inline\" inline>\r\n                    <el-form-item label=\"\" prop=\"placeId\">\r\n                        <el-input v-model.trim=\"queryInfo.query\" clearable placeholder=\"请输入\" />\r\n                    </el-form-item>\r\n                    <el-form-item>\r\n                        <el-button size=\"small\" icon=\"el-icon-search\" @click=\"getUserListByName()\">查询</el-button>\r\n                    </el-form-item>\r\n                </el-form>\r\n            </el-row>\r\n            <!-- 表格 -->\r\n            <el-table ref=\"table\" :data=\"userlist\" border stripe>\r\n                <el-table-column type=\"index\" label=\"编号\" width=\"100\" show-overflow-tooltip />\r\n                <el-table-column prop=\"username\" label=\"账号\" show-overflow-tooltip />\r\n                <el-table-column prop=\"role_name\" label=\"角色\" show-overflow-tooltip />\r\n                <el-table-column label=\"操作\" width=\"200\">\r\n                    <template slot-scope=\"scope\">\r\n                        <!-- 修改按钮 -->\r\n                        <el-button type=\"primary\" icon=\"el-icon-edit\" size=\"mini\"\r\n                            @click=\"showEditDialog(scope.row.u_id)\"></el-button>\r\n                        <!-- 删除按钮 -->\r\n                        <el-button type=\"danger\" icon=\"el-icon-delete\" size=\"mini\"\r\n                            @click=\"removeUserById(scope.row.u_id)\"></el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n            <!-- 分页区域 -->\r\n            <el-pagination @size-change=\"handleSizeChanged\" @current-change=\"handleCurrentChange\"\r\n                :current-page=\"queryInfo.pagenum\" :page-sizes=\"[5, 10, 20, 50]\" :page-size=\"queryInfo.pagesize\"\r\n                layout=\"total, sizes, prev, pager, next, jumper\" :total=\"total\">\r\n            </el-pagination>\r\n        </el-card>\r\n        <!--修改用户的对话框  -->\r\n        <el-dialog title=\"修改用户\" :visible.sync=\"editDialogVisible\" width=\"50%\" @close=\"editDialogClosed\">\r\n            <el-form ref=\"editFormRef\" :model=\"editForm\" label-width=\"70px\">\r\n                <!-- prop是绑定验证规则的属性 -->\r\n                <el-form-item label=\"身份\">\r\n                    <el-select v-model=\"selectedRoleId\" placeholder=\"请选择\">\r\n                        <el-option v-for=\"item in userInfo1\" :key=\"item.r_id\" :label=\"item.role_name\" :value=\"item.r_id\">\r\n                        </el-option>\r\n                    </el-select>\r\n                </el-form-item>\r\n                <!-- <el-form-item label=\"手机\" prop=\"mobile\">\r\n                    <el-input v-model=\"editForm.mobile\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"邮箱\" prop=\"email\">\r\n                    <el-input v-model=\"editForm.email\"></el-input>\r\n                </el-form-item> -->\r\n            </el-form>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"editDialogVisible = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"editUserInfo\">确 定</el-button>\r\n            </span>\r\n        </el-dialog>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \"RoleManage\",\r\n    data() {\r\n        return {\r\n            //获取用户列表的参数对象\r\n            queryInfo: {\r\n                //搜索关键字\r\n                query: '',\r\n                //当前的页数\r\n                pagenum: 1,\r\n                //当前每页显示多少条数据\r\n                pagesize: 5\r\n            },\r\n            userlist: [],\r\n            total: 0,\r\n            //控制添加用户对话框的显示与隐藏\r\n            addDialogVisible: false,\r\n            selectedRoleId1: '',\r\n            //控制修改用户对话框的显示与隐藏\r\n            editDialogVisible: false,\r\n            //修改用户信息时查询到的用户信息对象\r\n            editForm: {},\r\n            //修改表单的验证规则对象\r\n            //控制分配角色对话框的显示与隐藏\r\n            setRolesDialogVisible: false,\r\n            //需要被分配角色的用户信息\r\n            userInfo: {},\r\n            //所有角色的数据列表\r\n            rolesList: [],\r\n            //已选中的角色Id值\r\n            selectedRoleId: '',\r\n            userInfo1: []\r\n        };\r\n    },\r\n    created() {\r\n        this.getUserList()\r\n    },\r\n    methods: {\r\n        //获取用户列表\r\n        async getUserList() {\r\n            this.queryInfo.pagenum = 0\r\n            const { data: res } = await this.$http.post(`/Sys/user/showAllUser/${this.queryInfo.pagenum}/${this.queryInfo.pagesize}`)\r\n            //   if(res.meta.status!==200){\r\n            //       return this.$message.error('获取用户列表失败！')\r\n            //   }\r\n            console.log(res.data);\r\n            this.userlist = res.data\r\n            this.total = 0;\r\n            res.data.forEach(() => {\r\n                this.total++;\r\n            });\r\n            const { data: res1 } = await this.$http.post(\"Sys/register/queryAllRole\");\r\n            console.log(res);\r\n            this.userInfo1 = res1.data\r\n        },\r\n        async getUserInfo() {\r\n\r\n            const { data: res } = await this.$http.post(\"Sys/register/queryAllRole\");\r\n            console.log(res);\r\n            this.userInfo1 = res.data\r\n\r\n            //1.将登陆成功之后的token，保存到客户端的sessionStorage中\r\n            //1.1项目中除了登录之外的其他API接口，必须在登录之后才能访问\r\n            //1.2token只应在当前网站打开期间生效，所以将token保存在sessionStorage中\r\n            //2.通过编程式导航跳转到后台主页，路由地址是 /home\r\n\r\n\r\n\r\n        },\r\n        async getUserListByName() {\r\n            if (this.queryInfo.query != '') {\r\n                this.queryInfo.pagenum = 0\r\n                const { data: res } = await this.$http.post(`/Sys/user/queryUserByName/${this.queryInfo.query}/${this.queryInfo.pagenum}/${this.queryInfo.pagesize}`)\r\n                //   if(res.meta.status!==200){\r\n                //       return this.$message.error('获取用户列表失败！')\r\n                //   }\r\n                this.userlist = res.data\r\n                this.total = 0;\r\n                res.data.forEach(() => {\r\n                    this.total++;\r\n                });\r\n            }\r\n            else this.getUserList()\r\n\r\n\r\n        },\r\n        //监听pagesize改变的事件\r\n        handleSizeChanged(newSize) {\r\n\r\n            this.queryInfo.pagesize = newSize\r\n            this.getUserList()\r\n        },\r\n        //监听页码值改变的事件\r\n        handleCurrentChange(newPage) {\r\n            console.log(6);\r\n            this.queryInfo.pagenum = newPage\r\n            this.getUserList()\r\n        },\r\n        //监听switch开关状态的改变\r\n        async userStateChanged(userinfo) {\r\n            const { data: res } = await this.$http.put(`users/${userinfo.id}/state/${userinfo.mg_state}`)\r\n            if (res.meta.status !== 200) {\r\n                userinfo.mg_state = !userinfo.mg_state\r\n                return this.$message.error('更新用户状态失败！')\r\n            }\r\n            this.$message.success('更新用户状态成功！')\r\n        },\r\n        //监听添加用户对话框的关闭事件\r\n        addDialogClosed() {\r\n            this.$refs.addFormRef.resetFields()\r\n        },\r\n        //点击按钮 添加新用户\r\n        addUser() {\r\n            this.$refs.addFormRef.validate(async valid => {\r\n                if (!valid) return\r\n                //可以发起添加用户的网络请求\r\n                const { data: res } = await this.$http.post('users', this.addForm)\r\n\r\n                if (res.meta.status !== 201) {\r\n                    this.$message.error('添加用户失败！')\r\n                }\r\n                this.$message.success('添加用户成功!')\r\n                //隐藏添加用户的对话框\r\n                this.addDialogVisible = false\r\n                //重新获取用户列表数据\r\n                this.getUserList()\r\n            })\r\n        },\r\n        //展示编辑用户的对话框\r\n        async showEditDialog(id) {\r\n            window.sessionStorage.setItem('id', id)\r\n            this.editDialogVisible = true\r\n            // const {data:res}= await this.$http.get('users/'+id)\r\n\r\n            // if(res.meta.status!==200){\r\n            //     return this.$message.error('查询用户信息失败！')\r\n            // }\r\n            // this.editForm=res.data\r\n        },\r\n        //监听修改用户对话框的关闭事件\r\n        editDialogClosed() {\r\n            this.$refs.editFormRef.resetFields()\r\n        },\r\n        //修改用户信息并提交\r\n        async editUserInfo() {\r\n            const id = window.sessionStorage.getItem('id')\r\n\r\n            //  if(!valid) return\r\n            //发起修改用户信息的数据请求\r\n            const { data: res } = await this.$http.post(`/Sys/user/updateUserRoleByUid?uId=${id}&rId=${this.selectedRoleId}`)\r\n\r\n            if (res.ok !== true) {\r\n                return this.$message.error('更新用户信息失败！')\r\n            }\r\n\r\n            //关闭对话框\r\n            this.editDialogVisible = false\r\n            //刷新数据列表\r\n            this.getUserList()\r\n            //提示用户\r\n            this.$message.success('更新用户信息成功！')\r\n\r\n        },\r\n        //根据Id删除对应的用户信息\r\n        async removeUserById(id) {\r\n            //弹框询问用户是否删除数据\r\n            const confirmResult = await this.$confirm('此操作将永久删除该用户, 是否继续?', '提示', {\r\n                confirmButtonText: '确定',\r\n                cancelButtonText: '取消',\r\n                type: 'warning'\r\n            }).catch(err => err)\r\n\r\n            //如果用户确认删除，则返回值为字符串confirm\r\n            //如果用户取消了删除，则返回值为字符串 cancel\r\n            if (confirmResult !== 'confirm') {\r\n                return this.$message.info('已取消删除')\r\n            }\r\n\r\n            const { data: res } = await this.$http.post(`/Sys/user/deleteUserByUid/${id}`)\r\n\r\n            // if(res.meta.status!==200){\r\n            //     return this.$message.error('删除用户失败！')\r\n            // }\r\n            this.$message.success('删除用户成功！')\r\n            this.getUserList()\r\n        },\r\n\r\n\r\n    },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.RoleManage {\r\n    height: 100%;\r\n    margin: 20px 0px;\r\n}\r\n\r\n.el-table {\r\n    margin: 20px 0px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RoleManage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RoleManage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RoleManage.vue?vue&type=template&id=2e9dac77&scoped=true&\"\nimport script from \"./RoleManage.vue?vue&type=script&lang=js&\"\nexport * from \"./RoleManage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RoleManage.vue?vue&type=style&index=0&id=2e9dac77&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2e9dac77\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","model","value","queryInfo","query","callback","$$v","$set","trim","expression","on","$event","getUserListByName","_v","ref","userlist","scopedSlots","_u","key","fn","scope","showEditDialog","row","u_id","removeUserById","pagenum","pagesize","total","handleSizeChanged","handleCurrentChange","editDialogVisible","editDialogClosed","editForm","selectedRoleId","_l","userInfo1","item","r_id","role_name","slot","editUserInfo","staticRenderFns","name","data","addDialogVisible","selectedRoleId1","setRolesDialogVisible","userInfo","rolesList","created","getUserList","methods","res","$http","post","console","log","forEach","res1","getUserInfo","newSize","newPage","userStateChanged","userinfo","put","id","mg_state","meta","status","$message","error","success","addDialogClosed","$refs","addFormRef","resetFields","addUser","validate","valid","addForm","window","sessionStorage","setItem","editFormRef","getItem","ok","confirmResult","$confirm","confirmButtonText","cancelButtonText","type","catch","err","info","component"],"sourceRoot":""}