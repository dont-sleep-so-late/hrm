"use strict";(self["webpackChunkGDUOHRM"]=self["webpackChunkGDUOHRM"]||[]).push([[351],{4351:function(e,t,a){a.r(t),a.d(t,{default:function(){return u}});var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"PaySalary"},[t("el-card",[t("el-table",{attrs:{data:e.salarylist,border:""}},[t("el-table-column",{attrs:{type:"index",label:"编号",width:"100","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"o3Name",label:"薪资标准","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"pname",label:"职位名称","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"o1Name",label:"所属一级机构","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"o2Name",label:"所属二级机构","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"basic",label:"基础薪资","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"total",label:"薪酬总额","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"count",label:"标准审批数量","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"success",size:"small"},on:{click:function(t){return e.passSalary(a.row)}}},[e._v("通过")])]}}])})],1),t("el-pagination",{attrs:{"current-page":e.queryInfo.pagenum,"page-sizes":[5,10,20,50],"page-size":e.queryInfo.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChanged,"current-change":e.handleCurrentChange}})],1)],1)},l=[],o={name:"PaySalary",data(){return{catelist:[],cateProps:{value:"o3_id",label:"o3_name",children:"children",expandTrigger:"hover"},queryInfo:{query:"",pagenum:1,pagesize:5},salarylist:[],total:0,addDialogVisible:!1,editDialogVisible:!1,time1:"",editForm:{username:100000000001,name:"小明",professionId:"",money:"",time:(new Date).toLocaleDateString(),admin:window.sessionStorage.getItem("username")},setRolesDialogVisible:!1,userInfo:{},rolesList:[],selectedRoleId:""}},methods:{async getSalaryList(){this.queryInfo.pagenum=0;const{data:e}=await this.$http.post(`/Sal/showGiveSalInfo?pageNum=${this.queryInfo.pagenum}&pageSize=${this.queryInfo.pagesize}`);this.salarylist=e.data,this.total=0,this.salarylist.forEach((()=>{this.total++}));const{data:t}=await this.$http.post("/Sal/add/queryXinZiBiaoZhun");this.catelist=t.data},async getUserListByName(){this.queryInfo.pagenum=this.queryInfo.pagenum-1;const{data:e}=await this.$http.post(`/Sys/user/queryUserByName/${this.queryInfo.query}/${this.queryInfo.pagenum}/${this.queryInfo.pagesize}`);this.salarylist=e.data,this.total=0,this.salarylist.forEach((()=>{this.total++}))},handleSizeChanged(e){this.queryInfo.pagesize=e,this.getSalaryList()},handleCurrentChange(e){console.log(6),this.queryInfo.pagenum=e,this.getSalaryList()},async passSalary(e){console.log(e);const{data:t}=await this.$http.post("/Sal/give/updateSalGiveInfoByo3id/"+e.o3id+"/"+e.pid);this.$message.success("提交成功!"),this.getSalaryList()}},created(){this.getSalaryList()}},i=o,r=a(1001),n=(0,r.Z)(i,s,l,!1,null,"b5e24ce4",null),u=n.exports}}]);
//# sourceMappingURL=351.aa33f144.js.map