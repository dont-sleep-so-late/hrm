{"version":3,"file":"js/469.6515f569.js","mappings":"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","sources":["webpack://GDUOHRM/./src/pages/Document/AddDocument.vue","webpack://GDUOHRM/src/pages/Document/AddDocument.vue","webpack://GDUOHRM/./src/pages/Document/AddDocument.vue?6d29","webpack://GDUOHRM/./src/pages/Document/AddDocument.vue?24dc"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"AddDocument\"},[_c('el-card',[_c('el-row',{attrs:{\"type\":\"flex\",\"justify\":\"space-between\"}},[_c('el-form',{staticClass:\"demo-form-inline\",attrs:{\"size\":\"small\",\"inline\":\"\"}},[_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.goAddpage()}}},[_vm._v(\"添加档案 \")])],1)],1)],1),_c('el-table',{ref:\"table\",attrs:{\"data\":_vm.userlist,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"编号\",\"width\":\"100\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"姓名\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"o1Name\",\"label\":\"一级机构\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"o2Name\",\"label\":\"二级机构\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"o3Name\",\"label\":\"三级机构\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"profession\",\"label\":\"职位\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"sex\",\"label\":\"性别\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"success\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.updateDocument(scope.row.fid)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.removeUserById(scope.row.fid\n                    )}}})]}}])})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.queryInfo.pagenum,\"page-sizes\":[1, 2, 5, 10],\"page-size\":_vm.queryInfo.pagesize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChanged,\"current-change\":_vm.handleCurrentChange}})],1),_c('el-dialog',{attrs:{\"title\":\"添加用户\",\"visible\":_vm.addDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.addDialogVisible=$event},\"close\":_vm.addDialogClosed}},[_c('el-form',{ref:\"addFormRef\",attrs:{\"model\":_vm.addForm,\"rules\":_vm.addFormRules,\"label-width\":\"70px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"username\"}},[_c('el-input',{model:{value:(_vm.addForm.username),callback:function ($$v) {_vm.$set(_vm.addForm, \"username\", $$v)},expression:\"addForm.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{model:{value:(_vm.addForm.password),callback:function ($$v) {_vm.$set(_vm.addForm, \"password\", $$v)},expression:\"addForm.password\"}})],1),_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('el-input',{model:{value:(_vm.addForm.email),callback:function ($$v) {_vm.$set(_vm.addForm, \"email\", $$v)},expression:\"addForm.email\"}})],1),_c('el-form-item',{attrs:{\"label\":\"手机号\",\"prop\":\"mobile\"}},[_c('el-input',{model:{value:(_vm.addForm.mobile),callback:function ($$v) {_vm.$set(_vm.addForm, \"mobile\", $$v)},expression:\"addForm.mobile\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addUser}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"修改用户\",\"visible\":_vm.editDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.editDialogVisible=$event},\"close\":_vm.editDialogClosed}},[_c('el-form',{ref:\"editFormRef\",attrs:{\"model\":_vm.editForm,\"label-width\":\"70px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.editForm.username),callback:function ($$v) {_vm.$set(_vm.editForm, \"username\", $$v)},expression:\"editForm.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"手机\",\"prop\":\"mobile\"}},[_c('el-input',{model:{value:(_vm.editForm.mobile),callback:function ($$v) {_vm.$set(_vm.editForm, \"mobile\", $$v)},expression:\"editForm.mobile\"}})],1),_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('el-input',{model:{value:(_vm.editForm.email),callback:function ($$v) {_vm.$set(_vm.editForm, \"email\", $$v)},expression:\"editForm.email\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.editDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.editUserInfo}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"分配角色\",\"visible\":_vm.setRolesDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.setRolesDialogVisible=$event},\"close\":_vm.setRoleDialogClosed}},[_c('div',[_c('p',[_vm._v(\"当前的用户：\"+_vm._s(_vm.userInfo.username))]),_c('p',[_vm._v(\"当前的角色：\"+_vm._s(_vm.userInfo.role_name))]),_c('p',[_vm._v(\"分配新角色： \"),_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.selectedRoleId),callback:function ($$v) {_vm.selectedRoleId=$$v},expression:\"selectedRoleId\"}},_vm._l((_vm.rolesList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.roleName,\"value\":item.id}})}),1)],1)]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.setRolesDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveRoleInfo}},[_vm._v(\"确 定\")])],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"AddDocument\">\r\n        <el-card>\r\n            <!-- 查询 -->\r\n            <el-row type=\"flex\" justify=\"space-between\">\r\n                <el-form size=\"small\" class=\"demo-form-inline\" inline>\r\n                    <el-form-item>\r\n                        <el-button type=\"primary\" size=\"small\" @click=\"goAddpage()\">添加档案\r\n                        </el-button>\r\n                    </el-form-item>\r\n                </el-form>\r\n            </el-row>\r\n            <!-- 表格 -->\r\n            <el-table ref=\"table\" :data=\"userlist\" border>\r\n                <el-table-column type=\"index\" label=\"编号\" width=\"100\" show-overflow-tooltip />\r\n                <el-table-column prop=\"name\" label=\"姓名\" show-overflow-tooltip />\r\n                <el-table-column prop=\"o1Name\" label=\"一级机构\" show-overflow-tooltip />\r\n                <el-table-column prop=\"o2Name\" label=\"二级机构\" show-overflow-tooltip />\r\n                <el-table-column prop=\"o3Name\" label=\"三级机构\" show-overflow-tooltip />\r\n                <el-table-column prop=\"profession\" label=\"职位\" show-overflow-tooltip />\r\n                <el-table-column prop=\"sex\" label=\"性别\" show-overflow-tooltip />\r\n                <el-table-column label=\"操作\" width=\"200\">\r\n                    <template slot-scope=\"scope\">\r\n                        <!-- <el-button type=\"success\" size=\"small\"\r\n                            @click=\"changeView('AddField', { id: scope.row.placeId })\">编辑</el-button> -->\r\n                        <el-button type=\"success\" size=\"mini\" @click=\"updateDocument(scope.row.fid)\">编辑</el-button>\r\n\r\n                        <el-button type=\"danger\" icon=\"el-icon-delete\" size=\"mini\" @click=\"removeUserById(scope.row.fid\r\n                        )\"></el-button>\r\n\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n            <!-- 分页区域 -->\r\n            <el-pagination @size-change=\"handleSizeChanged\" @current-change=\"handleCurrentChange\"\r\n                :current-page=\"queryInfo.pagenum\" :page-sizes=\"[1, 2, 5, 10]\" :page-size=\"queryInfo.pagesize\"\r\n                layout=\"total, sizes, prev, pager, next, jumper\" :total=\"total\">\r\n            </el-pagination>\r\n        </el-card>\r\n\r\n        <!-- 添加用户的对话框 -->\r\n        <!-- visible.sync为控制显示和隐藏 -->\r\n        <el-dialog title=\"添加用户\" :visible.sync=\"addDialogVisible\" width=\"50%\" @close=\"addDialogClosed\">\r\n            <!-- 内容主体区域 -->\r\n            <el-form :model=\"addForm\" :rules=\"addFormRules\" ref=\"addFormRef\" label-width=\"70px\">\r\n                <el-form-item label=\"用户名\" prop=\"username\">\r\n                    <el-input v-model=\"addForm.username\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"密码\" prop=\"password\">\r\n                    <el-input v-model=\"addForm.password\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"邮箱\" prop=\"email\">\r\n                    <el-input v-model=\"addForm.email\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"手机号\" prop=\"mobile\">\r\n                    <el-input v-model=\"addForm.mobile\"></el-input>\r\n                </el-form-item>\r\n            </el-form>\r\n            <!-- 底部区域 -->\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"addDialogVisible = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"addUser\">确 定</el-button>\r\n            </span>\r\n        </el-dialog>\r\n\r\n        <!--修改用户的对话框  -->\r\n        <el-dialog title=\"修改用户\" :visible.sync=\"editDialogVisible\" width=\"50%\" @close=\"editDialogClosed\">\r\n            <el-form ref=\"editFormRef\" :model=\"editForm\" label-width=\"70px\">\r\n                <!-- prop是绑定验证规则的属性 -->\r\n                <el-form-item label=\"用户名\">\r\n                    <el-input v-model=\"editForm.username\" disabled></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"手机\" prop=\"mobile\">\r\n                    <el-input v-model=\"editForm.mobile\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"邮箱\" prop=\"email\">\r\n                    <el-input v-model=\"editForm.email\"></el-input>\r\n                </el-form-item>\r\n            </el-form>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"editDialogVisible = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"editUserInfo\">确 定</el-button>\r\n            </span>\r\n        </el-dialog>\r\n\r\n        <!-- 分配角色的对话框 -->\r\n        <el-dialog title=\"分配角色\" :visible.sync=\"setRolesDialogVisible\" width=\"50%\" @close=\"setRoleDialogClosed\">\r\n            <div>\r\n                <p>当前的用户：{{ userInfo.username }}</p>\r\n                <p>当前的角色：{{ userInfo.role_name }}</p>\r\n                <p>分配新角色：\r\n                    <!-- select中v-model的值是选择到的值，里面的label是要显示的值，value是实际选择的值 -->\r\n                    <el-select v-model=\"selectedRoleId\" placeholder=\"请选择\">\r\n                        <el-option v-for=\"item in rolesList\" :key=\"item.id\" :label=\"item.roleName\" :value=\"item.id\">\r\n                        </el-option>\r\n                    </el-select>\r\n                </p>\r\n            </div>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"setRolesDialogVisible = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"saveRoleInfo\">确 定</el-button>\r\n            </span>\r\n        </el-dialog>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \"AddDocument\",\r\n    data() {\r\n        return {\r\n            //获取用户列表的参数对象\r\n            queryInfo: {\r\n                //搜索关键字\r\n                query: '',\r\n                //当前的页数\r\n                pagenum: 1,\r\n                //当前每页显示多少条数据\r\n                pagesize: 5\r\n            },\r\n            userlist: [],\r\n            total: 0,\r\n            //控制添加用户对话框的显示与隐藏\r\n            addDialogVisible: false,\r\n            //添加用户的表单数据\r\n            addForm: {\r\n                username: '',\r\n                password: '',\r\n                email: '',\r\n                mobile: ''\r\n            },\r\n            //添加表单的验证规则对象\r\n            addFormRules: {\r\n                username: [\r\n                    { required: true, message: '请输入用户邮箱', trigger: 'blur' },\r\n                    { min: 3, max: 10, message: '用户名的长度在3~10个字符之间', trigger: 'blur' }\r\n                ],\r\n                password: [\r\n                    { required: true, message: '请输入密码', trigger: 'blur' },\r\n                    { min: 6, max: 15, message: '用户名的长度在6~15个字符之间', trigger: 'blur' }\r\n                ],\r\n            },\r\n            //控制修改用户对话框的显示与隐藏\r\n            editDialogVisible: false,\r\n            //修改用户信息时查询到的用户信息对象\r\n            editForm: {},\r\n            //控制分配角色对话框的显示与隐藏\r\n            setRolesDialogVisible: false,\r\n            //需要被分配角色的用户信息\r\n            userInfo: {},\r\n            //所有角色的数据列表\r\n            rolesList: [],\r\n            //已选中的角色Id值\r\n            selectedRoleId: ''\r\n        }\r\n    },\r\n    methods: {\r\n        goAddpage() {\r\n            this.$router.push('Add')\r\n        },\r\n        //获取档案列表\r\n        async getDocumentList() {\r\n            this.queryInfo.pagenum = 0\r\n            const { data: res } = await this.$http.post(`/File/listFileApplication?pageNum=${this.queryInfo.pagenum}&pageSize=${this.queryInfo.pagesize}`)\r\n            //   if(res.meta.status!==200){\r\n            //       return this.$message.error('获取用户列表失败！')\r\n            //   }\r\n            console.log(res.data);\r\n            this.userlist = res.data\r\n            this.total = 4\r\n\r\n        },\r\n        async getUserListByName() {\r\n            this.queryInfo.pagenum = this.queryInfo.pagenum - 1\r\n            const { data: res } = await this.$http.post(`/Sys/user/queryUserByName/${this.queryInfo.query}/${this.queryInfo.pagenum}/${this.queryInfo.pagesize}`)\r\n            //   if(res.meta.status!==200){\r\n            //       return this.$message.error('获取用户列表失败！')\r\n            //   }\r\n            console.log(res.data);\r\n            this.userlist = res.data\r\n            this.total = 4\r\n\r\n        },\r\n        //监听pagesize改变的事件\r\n        handleSizeChanged(newSize) {\r\n\r\n            this.queryInfo.pagesize = newSize\r\n            this.getDocumentList()\r\n        },\r\n        //监听页码值改变的事件\r\n        handleCurrentChange(newPage) {\r\n            console.log(6);\r\n            this.queryInfo.pagenum = newPage\r\n            this.getDocumentList()\r\n        },\r\n        //监听switch开关状态的改变\r\n        async userStateChanged(userinfo) {\r\n            const { data: res } = await this.$http.put(`users/${userinfo.id}/state/${userinfo.mg_state}`)\r\n            if (res.meta.status !== 200) {\r\n                userinfo.mg_state = !userinfo.mg_state\r\n                return this.$message.error('更新用户状态失败！')\r\n            }\r\n            this.$message.success('更新用户状态成功！')\r\n        },\r\n        //监听添加用户对话框的关闭事件\r\n        addDialogClosed() {\r\n            this.$refs.addFormRef.resetFields()\r\n        },\r\n        //点击按钮 添加新用户\r\n        addUser() {\r\n            this.$refs.addFormRef.validate(async valid => {\r\n                if (!valid) return\r\n                //可以发起添加用户的网络请求\r\n                const { data: res } = await this.$http.post('users', this.addForm)\r\n\r\n                if (res.meta.status !== 201) {\r\n                    this.$message.error('添加用户失败！')\r\n                }\r\n                this.$message.success('添加用户成功!')\r\n                //隐藏添加用户的对话框\r\n                this.addDialogVisible = false\r\n                //重新获取用户列表数据\r\n                this.getDocumentList()\r\n            })\r\n        },\r\n        updateDocument(id) {\r\n            this.$router.push({\r\n                path: '/Banner/Add',\r\n                query: {\r\n                    fid: id,\r\n                }\r\n\r\n            })\r\n        },\r\n        //展示编辑用户的对话框\r\n        async showEditDialog(id) {\r\n            this.editDialogVisible = true\r\n\r\n            const { data: res } = await this.$http.get('users/' + id)\r\n\r\n            if (res.meta.status !== 200) {\r\n                return this.$message.error('查询用户信息失败！')\r\n            }\r\n            this.editForm = res.data\r\n        },\r\n        //监听修改用户对话框的关闭事件\r\n        editDialogClosed() {\r\n            this.$refs.editFormRef.resetFields()\r\n        },\r\n        //修改用户信息并提交\r\n        editUserInfo() {\r\n            this.$refs.editFormRef.validate(async valid => {\r\n                if (!valid) return\r\n                //发起修改用户信息的数据请求\r\n                const { data: res } = await this.$http.put('users/' + this.editForm.id, {\r\n                    email: this.editForm.email,\r\n                    mobile: this.editForm.mobile\r\n                })\r\n\r\n                if (res.meta.status !== 200) {\r\n                    return this.$message.error('更新用户信息失败！')\r\n                }\r\n\r\n                //关闭对话框\r\n                this.editDialogVisible = false\r\n                //刷新数据列表\r\n                this.getDocumentList()\r\n                //提示用户\r\n                this.$message.success('更新用户信息成功！')\r\n            })\r\n        },\r\n        //根据Id删除对应的用户信息\r\n        async removeUserById(id) {\r\n            //弹框询问用户是否删除数据\r\n            const confirmResult = await this.$confirm('此操作将永久删除该用户, 是否继续?', '提示', {\r\n                confirmButtonText: '确定',\r\n                cancelButtonText: '取消',\r\n                type: 'warning'\r\n            }).catch(err => err)\r\n\r\n            //如果用户确认删除，则返回值为字符串confirm\r\n            //如果用户取消了删除，则返回值为字符串 cancel\r\n            if (confirmResult !== 'confirm') {\r\n                return this.$message.info('已取消删除')\r\n            }\r\n\r\n            const { data: res } = await this.$http.post(`/File/add/deleteInfoByFid/${id}`)\r\n\r\n            // if(res.meta.status!==200){\r\n            //     return this.$message.error('删除用户失败！')\r\n            // }\r\n            this.$message.success('删除用户成功！')\r\n            this.getDocumentList()\r\n        },\r\n        //展示分配角色的对话框\r\n        async setRole(userInfo) {\r\n            this.userInfo = userInfo\r\n\r\n            //在展示对话框之前，获取所有角色的列表\r\n            const { data: res } = await this.$http.get('roles')\r\n            if (res.meta.status !== 200) {\r\n                return this.$message.error('获取角色列表失败！')\r\n            }\r\n\r\n            this.rolesList = res.data\r\n\r\n            this.setRolesDialogVisible = true\r\n        },\r\n        //点击按钮，分配角色\r\n        async saveRoleInfo() {\r\n            if (!this.selectedRoleId) {\r\n                return this.$message.error('请选择要分配的角色!')\r\n            }\r\n\r\n            const { data: res } = await this.$http.put(`users/${this.userInfo.id}/role`, {\r\n                rid: this.selectedRoleId\r\n            })\r\n\r\n            if (res.meta.status !== 200) {\r\n                return this.$message.error('更新角色失败！')\r\n            }\r\n\r\n            this.$message.success('更新角色成功！')\r\n            this.getDocumentList()\r\n            this.setRolesDialogVisible = false\r\n        },\r\n        //监听分配角色对话框的关闭事件\r\n        setRoleDialogClosed() {\r\n            this.selectedRoleId = ''\r\n            this.userInfo = {}\r\n        }\r\n    },\r\n    created() {\r\n        this.getDocumentList()\r\n    },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.AddDocument {\r\n    height: 100%;\r\n    margin: 20px 0px;\r\n}\r\n\r\n.el-table {\r\n    margin: 20px 0px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AddDocument.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AddDocument.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddDocument.vue?vue&type=template&id=2f6234e4&scoped=true&\"\nimport script from \"./AddDocument.vue?vue&type=script&lang=js&\"\nexport * from \"./AddDocument.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddDocument.vue?vue&type=style&index=0&id=2f6234e4&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2f6234e4\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","on","$event","goAddpage","_v","ref","userlist","scopedSlots","_u","key","fn","scope","updateDocument","row","fid","removeUserById","queryInfo","pagenum","pagesize","total","handleSizeChanged","handleCurrentChange","addDialogVisible","addDialogClosed","addForm","addFormRules","model","value","username","callback","$$v","$set","expression","password","email","mobile","slot","addUser","editDialogVisible","editDialogClosed","editForm","editUserInfo","setRolesDialogVisible","setRoleDialogClosed","_s","userInfo","role_name","selectedRoleId","_l","rolesList","item","id","roleName","saveRoleInfo","staticRenderFns","name","data","query","required","message","trigger","min","max","methods","$router","push","getDocumentList","res","$http","post","console","log","getUserListByName","newSize","newPage","userStateChanged","userinfo","put","mg_state","meta","status","$message","error","success","$refs","addFormRef","resetFields","validate","valid","path","showEditDialog","get","editFormRef","confirmResult","$confirm","confirmButtonText","cancelButtonText","type","catch","err","info","setRole","rid","created","component"],"sourceRoot":""}